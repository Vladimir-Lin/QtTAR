<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- lastest modification : 2015-11-02 -->
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Qt TAR使用范例</title>
    <link href="classic.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div align="center">
      <h1>Qt TAR使用范例</h1>
    </div>
    <hr size="2" width="100%">
    <h3>目录</h3>
    <ul>
      <li>对Tar文件内容列表</li>
      <li>解开Tar文件</li>
      <li>将指定目录的文件列表封装到Tar文件</li>
    </ul>
    <br>
    「QtTAR/examples/tartool」目录当中有使用范例程式。一般而言，您必须自行继承QtTarBall来处理TAR文件。如果
    您有使用压缩格式，您应该使用QFile当中的DecoderFn及EncoderFn来处理压缩格式。如果您是使用QtArchivers的功
    能，QtArchivers当中使用CIOS Data Manipulation Subsystem的统一串流格式，您则不需要处理这类问
    题。<br>
    <br>
    <hr size="2" width="100%">
    <h3>对Tar文件内容列表</h3>
    <br>
    <table width="100%" border="1" cellpadding="1" cellspacing="1">
      <tbody>
        <tr>
          <td valign="top"><span style=" color:#808000;">void</span><span
              style=" color:#c0c0c0;"> </span><span style="
              color:#000000;">ListTarBall</span><span style="
              color:#000000;">(</span><span style=" color:#800080;">QString</span><span
              style=" color:#c0c0c0;"> </span><span style="
              color:#000000;">filename</span><span style="
              color:#000000;">)</span>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">{</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#c0c0c0;">  </span><span style=" color:#800080;">QDir</span><span style=" color:#c0c0c0;">    </span><span style=" color:#000000;">d</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">=</span><span style=" color:#c0c0c0;"> </span><span style=" color:#800080;">QDir</span><span style=" color:#000000;">::</span><span style=" color:#000000;">current</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">(</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">)</span><span style=" color:#c0c0c0;">   </span><span style=" color:#000000;">;</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#c0c0c0;">  </span><span style=" color:#800080;">TarBALL</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">tarball</span><span style=" color:#c0c0c0;">                 </span><span style=" color:#000000;">;</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#c0c0c0;">  </span><span style=" color:#000000;">tarball</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">.</span><span style=" color:#c0c0c0;"> </span><span style=" font-style:italic; color:#000000;">List</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">(</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">d</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">,</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">filename</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">)</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">;</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></pre>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
    <hr size="2" width="100%">
    <h3>解开Tar文件</h3>
    <br>
    <table width="100%" border="1" cellpadding="1" cellspacing="1">
      <tbody>
        <tr>
          <td valign="top"><span style=" color:#808000;">void</span><span
              style=" color:#c0c0c0;"> </span><span style="
              color:#000000;">ExtractTarBall</span><span style="
              color:#000000;">(</span><span style=" color:#800080;">QString</span><span
              style=" color:#c0c0c0;"> </span><span style="
              color:#000000;">filename</span><span style="
              color:#000000;">,</span><span style=" color:#800080;">QDir</span><span
              style=" color:#c0c0c0;"> </span><span style="
              color:#000000;">root</span><span style=" color:#000000;">)</span>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">{</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#c0c0c0;">  </span><span style=" color:#800080;">TarBALL</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">tarball</span><span style=" color:#c0c0c0;">                       </span><span style=" color:#000000;">;</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#c0c0c0;">  </span><span style=" color:#000000;">tarball</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">.</span><span style=" color:#c0c0c0;"> </span><span style=" font-style:italic; color:#000000;">Extract</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">(</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">root</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">,</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">filename</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">)</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">;</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></pre>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
    <hr size="2" width="100%">
    <h3>将指定目录的文件列表封装到Tar文件</h3>
    <br>
    <table width="100%" border="1" cellpadding="1" cellspacing="1">
      <tbody>
        <tr>
          <td valign="top"><span style=" color:#808000;">void</span><span
              style=" color:#c0c0c0;"> </span><span style="
              color:#000000;">MakeTarBall</span><span style="
              color:#000000;">(</span><span style=" color:#800080;">QString</span><span
              style=" color:#c0c0c0;"> </span><span style="
              color:#000000;">filename</span><span style="
              color:#000000;">,</span><span style=" color:#800080;">QDir</span><span
              style=" color:#c0c0c0;"> </span><span style="
              color:#000000;">src</span><span style=" color:#000000;">)</span>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">{</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#c0c0c0;">  </span><span style=" color:#800080;">TarBALL</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">tarball</span><span style=" color:#c0c0c0;">                             </span><span style=" color:#000000;">;</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#c0c0c0;">  </span><span style=" color:#800080;">QDir</span><span style=" color:#c0c0c0;">    </span><span style=" color:#000000;">root</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">=</span><span style=" color:#c0c0c0;"> </span><span style=" color:#800080;">QDir</span><span style=" color:#000000;">::</span><span style=" color:#000000;">current</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">(</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">)</span><span style=" color:#c0c0c0;">            </span><span style=" color:#000000;">;</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#c0c0c0;">  </span><span style=" color:#000000;">tarball</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">.</span><span style=" color:#c0c0c0;"> </span><span style=" font-style:italic; color:#000000;">TarBall</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">(</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">filename</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">,</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">root</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">,</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">src</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">)</span><span style=" color:#c0c0c0;"> </span><span style=" color:#000000;">;</span></pre>
            <pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;">}</span></pre>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
    <hr size="2" width="100%">
    <div align="center"><font color="#cc9933"><i><b>Neutrino
            International Inc. 2001~2015</b></i></font><br>
    </div>
    <br>
  </body>
</html>
